@model List<Medicament>

<form asp-action="Index" method="get" class="mt-3">
	<div class="input-group mb-3">
		<input type="text" name="Filtre" class="form-control" placeholder="Rechercher par médicament" value="@ViewData["FiltreActuel"]" />
		<button class="btn btn-outline-primary" type="submit">Rechercher</button>
	</div>
</form>

<h1>Médicaments</h1>
<table class="table table-striped table-hover">
	<thead>
		<tr>
			<th>
				<a class="text-dark" asp-action="Index" asp-route-OrdreTri="@ViewData["NomParamTri"]">
					Nom
					@if (ViewData["TriActuel"].ToString() == "nom_desc")
					{
					<i class="bi bi-arrow-down-short"></i>
					}
					else if (ViewData["TriActuel"].ToString() == "")
					{
					<i class="bi bi-arrow-up-short"></i>
					}
				</a>
			</th>
			<th>Quantite</th>
			<th>Posologie</th>
			<th>Composition</th>
			<th>
				<a class="text-dark" asp-action="Index" asp-route-OrdreTri="@ViewData["CategorieParamTri"]">
					Catégorie
					@if (ViewData["TriActuel"].ToString() == "categorie_desc")
					{
						<i class="bi bi-arrow-down-short"></i>
					}
					else if (ViewData["TriActuel"].ToString() == "categorie_asc")
					{
						<i class="bi bi-arrow-up-short"></i>
					}
				</a>
			</th>
			<th>Détail</th>
			<th>Modifier</th>
			<th>Supprimer</th>
		</tr>
	</thead>
	<tbody>
		@foreach (var m in Model)
		{
			<tr>

				<td>@m.Nom</td>
				<td>@m.Quantite</td>
				<td>@m.Posologie</td>
				<td>@m.Composition</td>
				<td>@m.Categorie</td>
				<td>
					<a asp-action="Detail" asp-controller="Medicament" asp-route-id="@m.MedicamentId">
						<i class="bi bi-eye"></i>
					</a>
				</td>

				<td>
					<a asp-action="Modifier" asp-controller="Medicament" asp-route-id="@m.MedicamentId">
						<i class="bi bi-pen"></i>
					</a>
				</td>
				<td>
					<a asp-action="Suprimer" asp-controller="Medicament" asp-route-id="@m.MedicamentId" onclick="return confirm('Êtes-vous sûr de vouloir supprimer cette antecédent ?');">
						<i class="bi bi-trash"></i>
					</a>
				</td>
			</tr>
		}
	</tbody>
</table>

<div class="row">
	<div class="col-8">
		<p>
			<a asp-action="Ajouter" class="btn btn-primary">Ajouter un medicament</a>
		</p>
	</div>
</div>